# 正则表达式

## 先安利一个表📒

| 字符 | 描述 | 例子 |
| --- | --- | --- |
| `.` | **匹配除换行符（\\n、\\r）之外的任意单个字符**。 | 例如，表达式 .ar 匹配一个任意字符后面跟着是a和r的字符串。<br />".ar" => The car parked in the garage. |
| `[]` | **字符集合。匹配所包含的任意一个字符。**<br />在方括号中的字符集不关心顺序。<br />在方括号中可以使用连字符来指定字符集的范围。[0-9a-zA-Z]可以匹配任意一个字母或数字。 <br />💡**方括号中的句号就表示句号**。<br />💡**在方括号内的表达式中，所有特殊字符（包括反斜杠\\）都会失去它们的特殊功能：因此我们不会应用“转义规则”。** | 例如，表达式[Tt]he 匹配 the 和 The。<br />"[Tt]he" => The car parked in the garage.<br />例如，表达式 ar[.] 匹配 ar.字符串。<br />"ar[.]" => A garage is a good place to park a car. |
| `[^]` | **否定字符集**。一般来说 ^ 表示一个字符串的开头，但它用在一个方括号的开头的时候，它表示这个字符集是否定的。 |  例如，表达 [^c]ar 匹配一个后面跟着ar的除了c的任意字符。<br />"[^c]ar" => The car parked in the garage. |
| `*` | **匹配 >=0 个重复的在*号之前的字符。 **<br />*** 等价于 {0,} **<br />*字符和.字符搭配，即  **.***  => 可以匹配所有的字符。 | 例如，表达式 a* 匹配0或更多个以a开头的字符。表达式[a-z]* 匹配一个行中所有以小写字母开头的字符串。<br />"[a-z]*" => The car parked in the garage #21. |
| `+` | **匹配 >=1 个重复的+号前的字符。**<br />**+ 等价于 {1,} ** |  例如，表达式 c.+t 匹配以首字母c开头以t结尾，中间跟着至少一个字符的字符串。<br />"c.+t" => The fat cat sat on the mat. |
| `?` | **标记 ? 之前的字符为可选，即出现 0 或 1 次。**<br />**? 等价于 {0,1} ** | 例如，表达式 [T]?he 匹配字符串 he 和 The。<br />"[T]?he" => The car is parked in the garage. |
| `{n,m}` | **匹配num个大括号之前的字符或字符集 (n <= num <= m)。即 至少n次，至多m次。** | 例如， 表达式 [0-9]{2,3} 匹配最少 2 位最多 3 位 0~9 的数字。<br />"[0-9]{2,3}" => The number was 9.9997 but we rounded it off to 10.0.<br />此处，至于为什么是找到的 999 ？因为 **量词 ( **`*** + ? {}**`**) 是贪婪操作符, 所以它们尽可能地通过提供的文本扩展匹配.** |
| `{n,}` | **匹配num个大括号之前的字符或字符集 (num >= n)。即 至少n次。** | 例如，表达式 [0-9]{2,} 匹配至少两位 0~9 的数字。<br />"[0-9]{2,}" => The number was 9.9997 but we rounded it off to 10.0. |
| `{n}` | **匹配n个大括号之前的字符或字符集。即 固定的n次。** | 例如，表达式 [0-9]{3} 匹配3位数字。<br />"[0-9]{3}" => The number was 9.9997 but we rounded it off to 10.0. |
| `&#124;` | **或运算符，匹配符号前或后的字符。** | 例如，表达式 the&#124;car 匹配 (T&#124;t)he 或 car。<br />"the&#124;car" => The car is parked in the garage. |
| `(xyz)` | **字符集，匹配与 xyz 完全相等的字符串并获取这一匹配**。所获取的匹配可以从产生的 matches 集合获得。<br />**(...) 中包含的内容将会被看成一个整体**，和数学中小括号（）的作用相同。例如, 表达式 (ab)* 匹配连续出现 0 或多个 ab。如果没有使用 (...) ，那么表达式 ab* 将匹配连续出现 0 或多个 b 。再比如之前说的 {} 是用来表示前面一个字符出现指定次数。但如果在 {n} 前加上 (...) 则表示整个小括号内的字符重复出现 n 次。<br />在 () 中用或字符 &#124; 表示或。 | 例如，表达式 (c&#124;g&#124;p)ar 匹配 car 或 gar 或 par.<br />"(c&#124;g&#124;p)ar" => The car is parked in the garage. |
| `\\` | **转义字符**，用于匹配一些保留的字符 [ ] ( ) { } . * + ? ^ $ \\ &#124; <br />反斜线 \\ 在表达式中用于转义紧跟其后的字符。用于指定 { } [ ] / \\ + * . $ ^ &#124; ? 这些特殊字符。如果想要匹配这些特殊字符则要在其前面加上反斜线 \\。 | 例如 . 是用来匹配除换行符外的所有字符的。如果想要匹配句子中的 . 则要写成 \\. 以下这个例子 \\.?是选择性匹配.<br />"(f&#124;c&#124;m)at\\.?" => The fat cat sat on the mat. |
| `^` | 用来检查匹配的字符串是否在所输入字符串的**开头**。 | 例如，^(T&#124;t)he 匹配以 The 或 the 开头的字符串。<br />"^(T&#124;t)he" => The car is parked in the garage.<br />此处，为什么没有匹配 the，那是因为 the 并没有出现在字符串的开头位置。 |
| `$` | 用来检查匹配的字符串是否在所输入字符串的**结尾**。 | 例如，(at\\.)$ 匹配以 at. 结尾的字符串。<br />"(at\\.)$" => The fat cat. sat. on the mat.<br />此处，为什么没有匹配 cat. 和 sat. 中的 at. ，那是因为这两项并没有出现在字符串的结尾位置。 |
| `\\w` | **匹配任意一个字母或数字或下划线的字符。**<br />**等价于 [a-zA-Z0-9_]**<br />`**\\W**`**为其相反的意思，用于匹配任意一个非字母、数字、下划线 外的字符。等价于 [^\\w]** | "\\w+" => any word character<br />”\\W+“ => not.a@word%character |
| `\\d` | **匹配任意一个数字字符。**<br />**等价于 [0-9]**<br />`**\\D**`**为其相反的意思，用于匹配一个非数字，等价于 [^0-9]** | 例如， 表达式 \\d{2,3} 匹配最少 2 位最多 3 位 0~9 的数字。<br />"\\d{2,3}" => The number was 9.9997 but we rounded it off to 10.0.<br />"\\D" => one: 1, two: 2 |
| `\\s` | **匹配任意一个空白字符，包括空格、制表符、换页符等等。**<br />****[\\r\\n\\t\\f\\v ]**<br />`**\\S**`**为其相反的意思，用于匹配任意一个非空白字符，等价于 [^\\r\\n\\t\\f\\v ]** | "\\s" => any whitespace character.<br />”\\S“ => any non-whitespace. |
| `\\f` | 匹配一个换页符 |  |
| `\\n` | 匹配一个换行符 |  |
| `\\r` | 匹配一个回车符 |  |
| `\\t` | 匹配一个制表符 |  |
| `\\v` | 匹配一个垂直制表符 |  |

## 进阶知识点🔥
### 标志
标志也叫模式修正符，因为它可以用来修改表达式的搜索结果。 这些标志可以任意的组合使用，它也是整个正则表达式的一部分。

| 标志 | 描述 |
| --- | --- |
| g | 全局搜索。 |
| i | 忽略大小写。 |
| m | 多行修饰符：锚点元字符 ^ $ 工作范围在每行的起始。 |

#### 全局搜索 (Global search)
修饰符 `g` 常用于执行一个全局搜索匹配，即（**不仅仅返回第一个匹配的，而是返回全部**）。 <br />例如，表达式 `/.(at)/g` 表示搜索任意字符（除了换行）+ `at`，并返回全部结果。<br />"/.(at)/" => The <u>fat</u> cat sat on the mat.<br />"/.(at)/g" => The <u>fat</u> <u>cat</u> <u>sat</u> on the mat.

#### 忽略大小写 (Case Insensitive)

修饰语`i`用于**忽略大小写**。 <br />例如，表达式 `/The/gi` 表示在全局搜索 The 或 the。<br />"/The/gi" => <u>The</u> fat cat sat on <u>the</u> mat.
#### 多行修饰符 (Multiline)
多行修饰符 `m` 常用于执行一个多行匹配。<br />像之前介绍的 `(^,$)` 用于检查格式是否是在待检测字符串的开头或结尾。但我们如果想要它在每行的开头和结尾生效，则需要用到多行修饰符 `m`。<br />例如，表达式 `/.at(.)?$/gm` 表示(除换行符之外的任意字符 + 小写字符 a + 小写字符 t) 的后面可选除换行符外的任意多个字符。根据 `m` 修饰符，现在表达式匹配每行的结尾。<br />"/.at(.)?$/gm" => The <u>fat</u><br />			cat <u>sat</u><br />			on the <u>mat</u>.

### 边界

`\b` 表示**单词边界**。<br />`\B`表示非单词边界，应理解为**（非单词）边界**，而不是非（单词边界），它仍然匹配的是边界。<br />将正则中的位置分为 **字符的占位** 和 **字符的间隙**。<br />**字符的占位是显式的位置**。以 I'm iron man 为例。肉眼可见的**字母**、**符号**、**空格**都是可以占位的字符，也就是可以用下标获取到字符的位置。<br />**字符的间隙是隐式的位置**，即**显式位置之间的位置**。比如说 I  和 ' 之间的位置，字符串开头和 I 之间的位置等等。<br /> 其中 **边界** 指的就是**占位的字符左右的间隙位置**。

**单词边界**匹配的是这样的间隙位置：**左边占位的字符或右边占位的字符，至少有一个不是**`\w`。<br />例如，<br />"\b" => "0aZ_"，用 "." 替换的话，则 res = ".0aZ_."，只有首尾位置匹配；<br />"\b" => "a+a"，用 "." 替换的话，则 res = ".a.+.a."，因为 + 号不属于 `\w`，所以 + 的左右间隙都可以被匹配；<br />"\b" => "a a"，用 "." 替换的话，则 res = ".a. .a."，与上一个案例的情形类似，因为空格也不属于`\w`，所以空格的左右间隙也都可以被匹配；<br />"d\b" => "wor<u>d</u> boundaries are od<u>d</u>"。

**非单词边界**与单词边界相反，匹配的是这样的间隙位置：**左右两边占位的字符，都必须是**`\w`。<br />例如，<br />"\B" => "0aZ_"，用 "." 替换的话，则 res = "0.a.Z._" ；<br />"\B" => "a+a"，用 "." 替换的话，则 res = "a+a" ；<br />"\B" => "a a"，用 "." 替换的话，则 res = "a a"；<br />"r\B" => "<u>r</u>egex is <u>r</u>eally cool"。

### 贪婪匹配与惰性匹配 (Greedy vs lazy matching)
正则表达式默认采用贪婪匹配模式，在该模式下意味着会匹配尽可能长的子串。可以使用 ? 将贪婪匹配模式转化为惰性匹配模式。<br />**量词 ( `* + ? {}`) 是贪婪操作符, 所以它们尽可能地通过提供的文本扩展匹配.**<br />"/(.*at)/" => <u>The fat cat sat on the mat</u>. <br />"/(.*?at)/" => <u>The fat</u> cat sat on the mat. 

### 捕获组

**捕获组**就是把正则表达式中**子表达式匹配的内容**，**保存到内存中以数字编号或显式命名的组里**，**方便后面引用**。<br />捕获组有两种形式，一种是**普通捕获组**，另一种是**命名捕获组**，通常所说的捕获组指的是普通捕获组。语法如下：用小括号 (...) 的形式，达到分组且捕获的目的。

- 普通捕获组：_(Expression)_
- 命名捕获组：_(?<name>Expression)_

#### 捕获组编号规则

**编号规则指的是以数字为捕获组进行编号的规则**。**编号为_0_的捕获组，指的是正则表达式整体**，这一规则在支持捕获组的语言中，基本上都是适用的。下面对其它编号规则逐一展开讨论。<br />捕获组的编号都是按照 “(” 出现的顺序，**从左到右，从_1_开始进行编号的**。

> [!ATTENTION|style:flat]
>
> 网上有的人会说<strong style="font-size:19px;">当普通捕获组与命名捕获组混合使用时，会先忽略命名捕获组，对普通捕获组进行编号，当普通捕获组完成编号后，再对命名捕获组进行编号</strong>。这个结论是<span style="font-size:19px;color: rgb(223, 42, 63);">错误的！！！</span>

> A named-capturing group is still numbered as described in [Group number](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#gnumber).

咱们一起来看下下面这三个例子，就会对捕获组的编号规则有个准确的认识。
##### 普通捕获组
如果没有显式为捕获组命名，即没有使用命名捕获组，那么需要按数字顺序来访问所有捕获组。<br />例如，正则表达式 **_(\d{4})-(\d{2}-(\d\d)) _**可以用来匹配格式为_ yyyy-MM-dd _的日期格式。当用以上正则表达式匹配字符串：_9999-12-31_，匹配结果为：

| 编号 | 命名 | 捕获组 | 匹配内容 |
| --- | --- | --- | --- |
| 0 |  | **_(\\d{4})-(\\d{2}-(\\d\\d))_** | 9999-12-31 |
| 1 |  | **_(\\d{4})_** | 9999 |
| 2 |  | **_(\\d{2}-(\\d\\d))_** | 12-31 |
| 3 |  | **_(\\d\\d)_** | 31 |

[在线测试](https://regex101.com/r/1GW35o/1)<br /><img src="https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030700115.png" alt="image.png"  />

##### 命名捕获组
命名捕获组通过**显式命名**，可以**通过组名方便的访问到指定的组**，比普通捕获组多了一种访问手段，而不需要去一个个的数编号，同时避免了在正则表达式扩展过程中，捕获组的增加或减少对引用结果导致的不可控。<br />例如，正则表达式**_ (?<year>\d{4})-(?<date>\d{2}-(?<day>\d\d)) _**可以用来匹配格式为_ yyyy-MM-dd _的日期格式。当用以上正则表达式匹配字符串：_9999-12-31_，匹配结果为：

| 编号 | 命名 | 捕获组 | 匹配内容 |
| --- | --- | --- | --- |
| 0 |  | **_(?<year>\\d{4})-(?<date>\\d{2}-(?<day>\\d\\d))_** | 9999-12-31 |
| 1 | year | **_(?<year>\\d{4})_** | 9999 |
| 2 | date | **_(?<date>\\d{2}-(?<day>\\d\\d))_** | 12-31 |
| 3 | day | **_(?<day>\\d\\d)_** | 31 |

[在线测试](https://regex101.com/r/gC7ZRE/1)<br />![image.png](https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030701832.png)

##### 普通捕获组与命名捕获组混合使用
例如，正则表达式**_ (\d{4})-(?<date>\d{2}-(\d\d)) _**可以用来匹配格式为_ yyyy-MM-dd _的日期格式。当用以上正则表达式匹配字符串：_9999-12-31_，匹配结果为：

| 编号 | 命名 | 捕获组 | 匹配内容 |
| --- | --- | --- | --- |
| 0 |  | **_(\\d{4})-(?<date>\\d{2}-(\\d\\d)) _** | 9999-12-31 |
| 1 | <br /> | **_(\\d{4})_** | 9999 |
| 2 | date | **_(?<date>\\d{2}-(\\d\\d)) _** | 12-31 |
| 3 | <br /> | **_(\\d\\d)_** | 31 |

[在线测试](https://regex101.com/r/YeREJ9/1)<br />![image.png](https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030701108.png)

#### 非捕获组
与捕获组相反，非捕获组可以**仅进行分组**，**而不会捕获内容和分配编号**。语法如下：用小括号 (?:...) 的形式。<br />还是拿上面捕获组中的正则表达式 **_(?:\d{4})-(?<date>\d{2}-(\d\d)) _**来举例，该正则表达式可以用来匹配格式为_ yyyy-MM-dd _的日期格式。当用以上正则表达式匹配字符串：_9999-12-31_，匹配结果为：

| 编号 | 命名 | 捕获组 | 匹配内容 |
| --- | --- | --- | --- |
| 0 |  | **_(?:\\d{4})-(?<date>\\d{2}-(\\d\\d)) _** | 9999-12-31 |
| 1 | date | **_(?<date>\\d{2}-(\\d\\d)) _** | 12-31 |
| 2 | <br /> | **_(\\d\\d)_** | 31 |

[在线测试](https://regex101.com/r/mIYJjd/1)<br />![image.png](https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030701064.png)

### 反向引用
定义：**捕获组捕获到的内容**，不仅可以**在正则表达式外部通过程序进行引用**，也可以**在正则表达式内部进行引用**，这种引用方式就是**反向引用**。<br />反向引用的**作用**通常是用来**查找或限定重复**，**限定指定标识配对出现**等等。<br />对于普通捕获组和命名捕获组的引用，语法如下：

- 普通捕获组反向引用：\k<number>，通常简写为 **\number** ，其中 number 是**捕获组的编号**，这种方式使用的比较多；
- 命名捕获组反向引用：\k<name>或者\k'name'，其中 name 为**捕获组的组名。**

#### 为什么需要反向引用？
以一个案例来进行说明：HTML 程序员使用标题标签(`<h1>`到`<h6>`，以及配对的结束标签)来定义和排版 Web 页面里的标题文字。假设你现在需要把某个 Web 页面的所有标题文字全部查找出来，不管是几级标题。如下所示：
```html
<body>
  <h1>Welcome to my Homepage</h1>
  Content is divided into two sections:<br/>
  <h2>SQL</h2>
  Information about SQL.
  <h2>RegEx</h2>
  Information about Regular Expressions.
</body>
```
正则表达式`<[hH][1-6]>.*?<\/[hH][1-6]>`，匹配结果如下图所示：<br />[在线测试](https://regex101.com/r/kRm4Jh/1)<br />![image.png](https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030701616.png)<br />看起来没有问题，可是真的是这样的吗？未必哟，看看下面这个例子。
```html
<body>
  <h1>Welcome to my Homepage</h1>
  Content is divided into two sections:<br/>
  <h2>SQL</h2>
  Information about SQL.
  <h2>RegEx</h3>
  Information about Regular Expressions.
</body>
```
还是相同的正则表达式`<[hH][1-6]>.*?<\/[hH][1-6]>`，匹配结果如下图所示：<br />![image.png](https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030702299.png)<br />咱们发现有一处标题的标签是以`<h2>`开头，以`</h3>`结束，这显然是个无效的标题，但是也能和我们使用的模式匹配上，问题在于**匹配的第二部分对匹配的第一部分一无所知**。此时就需要**反向引用**闪亮登场了✨✨✨✨

#### 反向引用

解决匹配 HTML 标题的问题前，咱们先看一个简单例子，如果不使用反向引用，根本无法解决。<br />假设你有一段文本，你想把这段文本里所有**连续重复出现两次的单词打印出来**，显然再搜索某个单词的第二次出现时，这个单词必须是已知的。**反向引用允许正则表达式模式引用之前匹配的结果**。如下所示：
```
This is a block of of text.
several words here are are
repeated, and and they
should not be.
```
正则表达式`\b(\w+)\b\s\1`，其中 **\1** 表示的意思是**引用编号为1的捕获组所捕获的内容**。匹配结果如下图所示：<br />![image.png](https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030702614.png)<br />了解反向引用的用法之后，再回到 HTML 标题的例子↩️，利用反向引用可以构造一个模式去匹配任何标题的开始标签和相应的结束标签。正则表达式`<([hH][1-6])>.*?<\/\1>`，匹配结果如下图所示：<br />[在线测试](https://regex101.com/r/WGPy5z/1)<br />![image.png](https://fastly.jsdelivr.net/gh/xihuanxiaorang/img/202308030702689.png)
### 零宽度断言（前后预查）
【断言】就是说正则可以断定在指定内容的前面或后面会出现满足指定规则的内容。<br />【零宽】 **断言部分只确定位置不匹配任何内容，只是一种模式**。内容宽度为零。<br />先行断言和后发断言（合称 lookaround）都属于**非捕获组**（**用于匹配模式，结果不包括在匹配列表中**）。当我们需要一个模式的前面或后面有另一个特定的模式时，就可以使用它们。<br />例如，如果希望从下面的输入字符串 "$4.44" 和 "$10.88" 中获得所有以 $ 字符开头的数字，可以使用如下正则表达式 `(?<=\$)[0-9\.]*`。意思是：获取所有包含 . 并且前面是 $ 的数字。<br />零宽度断言如下：

| 符号 | 描述 |
| --- | --- |
| ?= | 正先行断言-存在 |
| ?! | 负先行断言-排除 |
| ?<= | 正后发断言-存在 |
| ?<! | 负后发断言-排除 |

#### 正先行断言
`?=...`正先行断言，表示第一部分子表达式所匹配的内容的**后面挨着** `?=...`断言中定义的表达式所匹配的内容。<br />**返回的结果中只包含第一部分子表达式所匹配的内容**。 定义一个正先行断言要使用 ()，在括号内部使用一个问号和等号： (?=...)，正先行断言的内容写在括号中的等号后面。<br />例如，"(T|t)he(?=\sfat)" 中的第一部分表达式匹配 The 和 the，在后面的小括号中定义了正先行断言 (?=\sfat) ，表达的意思为 The 或 the 的后面紧跟着 (空格)fat。<br />"(T|t)he(?=\sfat)" => <u>The</u> fat cat sat on the mat.<br />"foo(?=bar)" => <u>foo</u>bar foobaz.

#### 负先行断言
`?!...`负先行断言，表示第一部分子表达式所匹配的内容的**后面不挨着** `?!...`定义的表达式所匹配的内容。<br />例如，"(T|t)he(?!\sfat)" 中的第一部分表达式匹配 The 和 the，在后面的小括号中定义了负先行断言 (?!\sfat) ，表达的意思为 The 或 the 的后面不跟着 (空格)fat。<br />"(T|t)he(?!\sfat)" => The fat cat sat on <u>the</u> mat.<br />"foo(?!bar)" => foobar <u>foo</u>baz.

#### 正后发断言
`?<=...`正后发断言，表示第二部分子表达式所匹配的内容的**前面挨着**`?<=...`断言中定义的表达式所匹配的内容。<br />例如，"(?<=(T|t)he\s)(fat|mat)" 中的第二部分表达式匹配 fat 和 mat，在前面的小括号中定义了正后发断言 (?<=(T|t)he\s)，表达的意思为 fat 或 mat 的前面是 The(空格) 或 the(空格)。<br />"(?<=(T|t)he\s)(fat|mat)" => The <u>fat</u> cat sat on the <u>mat</u>.<br />"(?<=foo)bar" => foo<u>bar</u> fuubar.

#### 负后发断言
`?<!...`负后发断言，表示第二部分子表达式所匹配的内容的**前面不挨着**为`?<=...`断言中定义的表达式所匹配的内容。<br />例如，"(?<!(T|t)he\s)(cat)" 中的第二部分表达式匹配 cat，在前面的小括号中定义了负后发断言 (?<!(T|t)he\s)，表达的意思为 cat 的前面不是 The(空格) 或 the(空格)。<br />"(?<!(T|t)he\s)(cat)" => The cat sat on <u>cat</u>.<br />"(?<!not )foo" => not foo but <u>foo</u>.

## 常用正则表达式🗂️

- **数字校验**
| **描述** | **正则表达式** | **备注** |
| --- | --- | --- |
| 数字 | ^[0-9]*$ |  |
| n位数字 | ^\\d{n}$ |  |
| 至少n位数字 | ^\\d{n,}$ |  |
| m~n位数字 | ^\\d{m,n}$ |  |
| 整数 | ^(-?[1-9]\\d*)$ | 非0开头，包括正整数和负整数 |
| 正整数 | ^[1-9]\\d*$ |  |
| 负整数 | ^-[1-9]\\d*$ |  |
| 非负整数 | ^(([1-9]\\d*)&#124;0)$ |  |
| 非正整数 | ^((-[1-9]\\d*)&#124;0)$ |  |
| 浮点数 | ^-?(?:[1-9]\\d*\\.\\d*&#124;0\\.\\d*[1-9]\\d*&#124;0\\.0+&#124;0)$ | 包括正浮点数和负浮点数 |
| 正浮点数 | ^(?:[1-9]\\d*\\.\\d*&#124;0\\.\\d*[1-9]\\d*)$ |  |
| 负浮点数 | ^-(?:[1-9]\\d*\\.\\d*&#124;0\\.\\d*[1-9]\\d*)$ |  |
| 非正浮点数 | ^(?:-(?:[1-9]\\d*\\.\\d+&#124;0\\.\\d*[1-9]\\d*)&#124;0\\.0+&#124;0)$ | 包含0 |
| 非负浮点数 | ^(?:[1-9]\\d*\\.\\d+&#124;0\\.\\d+&#124;0\\.0+&#124;0)$ | 包含0 |
| 仅一位小数 | ^-?(?:0&#124;[1-9][0-9]*)\\.[0-9]{1}$ |  |
| 最少一位小数 | ^-?(?:0&#124;[1-9][0-9]*)\\.[0-9]{1,}$ |  |
| 最多两位小数 | ^-?(?:0&#124;[1-9][0-9]*)\\.[0-9]{1,2}$ |  |
| 连续重复的数字 | ^(\\d)\\1+$ | 例如：111，222 |

- **字符校验**
| **描述** | **正则表达式** | **备注** |
| --- | --- | --- |
| 中文 | ^[\\u4E00-\\u9FA5]+$ |  |
| 全角字符 | ^[\\uFF00-\\uFFFF]+$ |  |
| 半角字符 | ^[\\u0000-\\u00FF]+$ |  |
| 英文字符串（大写） | ^[A-Z]+$ |  |
| 英文字符串（小写） | ^[a-z]+$ |  |
| 英文字符串（不区分大小写） | ^[A-Za-z]+$ |  |
| 中文和数字 | ^(?:[\\u4E00-\\u9FA5]{0,}&#124;\\d)+$ |  |
| 英文和数字 | ^[A-Za-z0-9]+$ |  |
| 数字、英文字母或者下划线组成的字符串 | ^\\w+$ |  |
| 中文、英文、数字包括下划线 | ^[\\u4E00-\\u9FA5\\w]+$ |  |
| 不含字母的字符串 | ^[^A-Za-z]*$ |  |
| 连续重复的字符串 | ^(.)\\1+$ | 例如：aa，bb |
| 长度为n的字符串 | ^.{n}$ |  |
| ASCII | ^[ -~]$ |  |

- **日期和时间校验**
| **描述** | **正则表达式** | **备注** |
| --- | --- | --- |
| 日期 | ^\\d{1,4}-(?:1[0-2]&#124;0?[1-9])-(?:0?[1-9]&#124;[1-2]\\d&#124;30&#124;31)$ | 弱校验，例如：2022-06-12 |
| 日期 | ^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]&#124;1[0-2])-(?:0[1-9]&#124;1[0-9]&#124;2[0-8])&#124;(?:0[13-9]&#124;1[0-2])-(?:29&#124;30)&#124;(?:0[13578]&#124;1[02])-31)&#124;(?:[0-9]{2}(?:0[48]&#124;[2468][048]&#124;[13579][26])&#124;(?:0[48]&#124;[2468][048]&#124;[13579][26])00)-02-29)$ | 严格校验，考虑平闰年 |
| 时间 | ^(?:1[0-2]&#124;0?[1-9]):[0-5]\\d:[0-5]\\d$ | 12小时制，例如：11:21:31 |
| 时间 | ^(?:[01]\\d&#124;2[0-3]):[0-5]\\d:[0-5]\\d$ | 24小时制，例如：23:21:31 |
| 日期+时间 | ^(\\d{1,4}-(?:1[0-2]&#124;0?[1-9])-(?:0?[1-9]&#124;[1-2]\\d&#124;30&#124;31)) ((?:[01]\\d&#124;2[0-3]):[0-5]\\d:[0-5]\\d)$ | 例如：2000-11-11 23:20:21 |

- **日常生活相关**
| **描述** | **正则表达式** | **备注** |
| --- | --- | --- |
| 中文名 | ^[\\u4E00-\\u9FA5·]{2,16}$ |  |
| 英文名 | ^[a-zA-Z][a-zA-Z\\s]{0,20}[a-zA-Z]$ |  |
| 车牌号 | ^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-HJ-NP-Z][A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳]$ | 不含新能源 |
| 车牌号 | ^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领][A-HJ-NP-Z](?:(?:[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9挂学警港澳])&#124;(?:(?:\\d{5}[A-HJK])&#124;(?:[A-HJK][A-HJ-NP-Z0-9][0-9]{4})))$ | 包含新能源 |
| 火车车次 | ^[GCDZTSPKXLY1-9]\\d{1,4}$ | 例如：G1234 |
| 手机号 | ^(?:(?:\\+&#124;00)86)?1[3-9]\\d{9}$ | 弱匹配 |
| 手机号 | ^(?:(?:\\+&#124;00)86)?1(?:(?:3[\\d])&#124;(?:4[5-79])&#124;(?:5[0-35-9])&#124;(?:6[5-7])&#124;(?:7[0-8])&#124;(?:8[\\d])&#124;(?:9[189]))\\d{8}$ | 严格匹配 |
| 固话号码 | ^(?:(?:\\d{3}-)?\\d{8}&#124;^(?:\\d{4}-)?\\d{7,8})(?:-\\d+)?$ |  |
| 手机IMEI码 | ^\\d{15,17}$ | 一般是15位 |
| 邮编 | ^(?:0[1-7]&#124;1[0-356]&#124;2[0-7]&#124;3[0-6]&#124;4[0-7]&#124;5[1-7]&#124;6[1-7]&#124;7[0-5]&#124;8[013-6])\\d{4}$ | 例如：211100 |
| 统一社会信用代码 | ^[0-9A-HJ-NPQRTUWXY]{2}\\d{6}[0-9A-HJ-NPQRTUWXY]{10}$ |  |
| 身份证号码(1代) | ^[1-9]\\d{7}(?:0\\d&#124;10&#124;11&#124;12)(?:0[1-9]&#124;[1-2][\\d]&#124;30&#124;31)\\d{3}$ | 15位数字 |
| 身份证号码(2代) | ^[1-9]\\d{5}(?:18&#124;19&#124;20)\\d{2}(?:0[1-9]&#124;10&#124;11&#124;12)(?:0[1-9]&#124;[1-2]\\d&#124;30&#124;31)\\d{3}[0-9Xx]$ | 18位数字 |
| QQ号 | ^[1-9][0-9]{4,}$ | 一般是5到10位 |
| 微信号 | ^[a-zA-Z][-_a-zA-Z0-9]{5,19}$ | 一般6~20位，字母开头，可包含字母、数字、-、_，不含特殊字符 |
| 股票代码 | ^(s[hz]&#124;S[HZ])(000[\\d]{3}&#124;002[\\d]{3}&#124;300[\\d]{3}&#124;600[\\d]{3}&#124;60[\\d]{4})$ | A股，例如：600519 |
| 银行卡卡号 | ^[1-9]{1}(?:\\d{15}&#124;\\d{18})$ | 一般为19位 |

- **互联网相关**
| **描述** | **正则表达式** | **备注** |
| --- | --- | --- |
| 域名 | ^[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(?:\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$ | 例如：r2coding.com |
| 网址 | ^(?:https?:\\/\\/)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(?:\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$ | 例如：https://www.r2coding.com/ |
| 带端口号的网址(或IP) | ^(?:https?:\\/\\/)?[\\w-]+(?:\\.[\\w-]+)+:\\d{1,5}\\/?$ | 例如：http://127.0.0.1:8888/ |
| URL | ^https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()!@:%_\\+.~#?&\\/\\/=]*)$ | 例如：https://www.r2coding.com/#/README?id=1 |
| 邮箱email | ^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(?:\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$ | 支持中文，例如：codesheep@cs.com |
| 用户名 | ^[a-zA-Z0-9_-]{4,20}$ | 4到20位 |
| 弱密码 | ^[\\w]{6,16}$ | 6~16位，包含大小写字母和数字的组合 |
| 强密码 | ^.*(?=.{6,})(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@\\.#$%^&*? ]).*$ | 至少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符 |
| 端口号 | ^(?:[0-9]&#124;[1-9][0-9]{1,3}&#124;[1-5][0-9]{4}&#124;6[0-4][0-9]{3}&#124;65[0-4][0-9]{2}&#124;655[0-2][0-9]&#124;6553[0-5])$ | 例如：65535 |
| IPv4地址 | ^(?:(?:\\d&#124;[1-9]\\d&#124;1\\d\\d&#124;2[0-4]\\d&#124;25[0-5])\\.){3}(?:\\d&#124;[1-9]\\d&#124;1\\d\\d&#124;2[0-4]\\d&#124;25[0-5])$ | 例如：192.168.31.1 |
| IPv4地址+端口 | ^(?:(?:\\d&#124;[1-9]\\d&#124;1\\d\\d&#124;2[0-4]\\d&#124;25[0-5])\\.){3}(?:\\d&#124;[1-9]\\d&#124;1\\d\\d&#124;2[0-4]\\d&#124;25[0-5])(?::(?:[0-9]&#124;[1-9][0-9]{1,3}&#124;[1-5][0-9]{4}&#124;6[0-4][0-9]{3}&#124;65[0-4][0-9]{2}&#124;655[0-2][0-9]&#124;6553[0-5]))?$ | 例如：192.168.31.1:8080 |
| IPv6地址 | ^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}&#124;([0-9a-fA-F]{1,4}:){1,7}:&#124;([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}&#124;([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}&#124;([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}&#124;([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}&#124;([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}&#124;[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})&#124;:((:[0-9a-fA-F]{1,4}){1,7}&#124;:)&#124;fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}&#124;::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9])&#124;([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9]))$ | 例如：CDCD:910A:2222:5498:8475:1111:3900:2020 |
| IPv6地址+端口 | ^\\[(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}&#124;([0-9a-fA-F]{1,4}:){1,7}:&#124;([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}&#124;([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}&#124;([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}&#124;([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}&#124;([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}&#124;[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})&#124;:((:[0-9a-fA-F]{1,4}){1,7}&#124;:)&#124;fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}&#124;::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9])&#124;([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]&#124;(2[0-4]&#124;1{0,1}[0-9]){0,1}[0-9]))\\](?::(?:[0-9]&#124;[1-9][0-9]{1,3}&#124;[1-5][0-9]{4}&#124;6[0-4][0-9]{3}&#124;65[0-4][0-9]{2}&#124;655[0-2][0-9]&#124;6553[0-5]))?$ | 例如：[CDCD:910A:2222:5498:8475:1111:3900:2020]:9800 |
| 子网掩码 | ^(?:254&#124;252&#124;248&#124;240&#124;224&#124;192&#124;128)\\.0\\.0\\.0&#124;255\\.(?:254&#124;252&#124;248&#124;240&#124;224&#124;192&#124;128&#124;0)\\.0\\.0&#124;255\\.255\\.(?:254&#124;252&#124;248&#124;240&#124;224&#124;192&#124;128&#124;0)\\.0&#124;255\\.255\\.255\\.(?:255&#124;254&#124;252&#124;248&#124;240&#124;224&#124;192&#124;128&#124;0)$ | 例如：255.255.255.0 |
| MAC地址 | ^(?:(?:[a-f0-9A-F]{2}:){5}&#124;(?:[a-f0-9A-F]{2}-){5})[a-f0-9A-F]{2}$ |  |
| Version版本号 | ^\\d+(?:\\.\\d+){2}$ | 例如：12.1.1 |
| 图片后缀 | \\.(gif&#124;png&#124;jpg&#124;jpeg&#124;webp&#124;svg&#124;psd&#124;bmp&#124;tif)+ | 可按需增删扩展名集合 |
| 视频后缀 | \\.(swf&#124;avi&#124;flv&#124;mpg&#124;rm&#124;mov&#124;wav&#124;asf&#124;3gp&#124;mkv&#124;rmvb&#124;mp4)+ | 可按需增删扩展名集合 |
| 图片链接 | (?:https?:\\/\\/)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(?:\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+.+\\.(gif&#124;png&#124;jpg&#124;jpeg&#124;webp&#124;svg&#124;psd&#124;bmp&#124;tif) | 可按需增删扩展名集合 |
| 视频链接 | (?:https?:\\/\\/)?[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(?:\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+.+\\.(swf&#124;avi&#124;flv&#124;mpg&#124;rm&#124;mov&#124;wav&#124;asf&#124;3gp&#124;mkv&#124;rmvb&#124;mp4) | 可按需增删扩展名集合 |
| 迅雷链接 | thunderx?:\\/\\/[a-zA-Z\\d]+= |  |
| ed2k链接 | ed2k:\\/\\/\\&#124;file\\&#124;.+\\&#124;\\/ |  |
| 磁力链接 | magnet:\\?xt=urn:btih:[0-9a-fA-F]{40,}.* |  |

- **其他**
| **描述** | **正则表达式** | **备注** |
| --- | --- | --- |
| MD5格式 | ^(?:[a-f\\d]{32}&#124;[A-F\\d]{32})$ | 32位MD5，例如：7552E7071B118CBFFEC8C930455B4297 |
| BASE64格式 | ^\\s*data:(?:[a-z]+\\/[a-z0-9-+.]+(?:;[a-z-]+=[a-z0-9-]+)?)?(?:;base64)?,([a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*?)\\s*$ | 例如：data:image/jpeg;base64,xxxx== |
| UUID | ^[a-f\\d]{4}(?:[a-f\\d]{4}-){4}[a-f\\d]{12}$ | 例如：94f9d45a-71b0-4b3c-b69d-20c4bc9c8fdd |
| 16进制 | ^[A-Fa-f0-9]+$ | 例如：FFFFFF |
| 16进制颜色 | ^#?([0-9a-fA-F]{3}&#124;[0-9a-fA-F]{6})$ | 例如：#FFFFFF |
| SQL语句 | ^(?:select&#124;drop&#124;delete&#124;create&#124;update&#124;insert).*$ |  |
| Java包名 | ^(?:[a-zA-Z_]\\w*)+(?:[.][a-zA-Z_]\\w*)+$ | 例如：com.r2coding.controller |
| 文件扩展名 | \\.(?:doc&#124;pdf&#124;txt) | 可按需增删扩展名集合 |
| Windows文件路径 | ^[a-zA-Z]:(?:\\\\[\\w\\u4E00-\\u9FA5\\s]+)+[.\\w\\u4E00-\\u9FA5\\s]+$ | 例如：C:\\Users\\Administrator\\Desktop\\a.txt |
| Windows文件夹路径 | ^[a-zA-Z]:(?:\\\\[\\w\\u4E00-\\u9FA5\\s]+)+$ | 例如：C:\\Users\\Administrator\\Desktop |
| Linux文件路径 | ^\\/(?:[^/]+\\/)*[^/]+$ | 例如：/root/library/a.txt |
| Linux文件夹路径 | ^\\/(?:[^/]+\\/)*$ | 例如：/root/library/ |

## 在线工具🎉
[regex101: build, test, and debug regex](https://regex101.com/)<br />[Regulex：JavaScript Regular Expression Visualizer](https://jex.im/regulex/)

## 参考资料🎁

[learn-regex/README-cn.md at master · ziishaned/learn-regex](https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md)<br />[正则表达式 – 语法 | 菜鸟教程](https://www.runoob.com/regexp/regexp-syntax.html)
